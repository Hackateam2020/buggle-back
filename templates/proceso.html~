<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Buggles</title>
  <link rel="stylesheet" href="static/css/reset.css">
  <link rel="stylesheet" href="static/css/styles.css">
  <link rel="icon" href="images/Oval.png">
  <link href="https://fonts.googleapis.com/css?family=Goudy+Bookletter+1911|Prata&display=swap" rel="stylesheet">

</head>

<header>
<div >
    <a class="atras" href="">Atrás</a>
</div>
</header>

<body>
    <form action="/predict" method="post" class="preguntas">
        <h1>{{ name }}</h1>
        {% for pregunta in preguntas: %}
            <div id="pregunta{{loop.index}}" class="pregunta">
                <h2>{{ pregunta.get('pregunta', '¿?') }}</h2>
                <p>{{ pregunta.get('texto', '...') }}</p>
            <p>
            {# TIPO DE PREGUNTA #}    
            {% if pregunta.type == 'number' %}
                <input type="number" name="{{pregunta.value}}">
            {% elif pregunta.type == 'select' %}
                <select name="{{pregunta.value}}">
                {% for option in pregunta.options %}
                    <option value="{{option}}">{{option}}</option>
                {% endfor %}
                </select>
            {% elif pregunta.type == 'text' %}
                <input type="text" name="{{pregunta.value}}">
            {% endif %}
            </p>
            {# NAVEGACIÓN DE PREGUNTAS #}    
            {% if preguntas|length == loop.index %}
                <input type="submit" value="Predecir">
            {% else %}
                <a onClick="mostrarPreg({{loop.index+1}})">Siguiente</a>
            {% endif %}
            </div>
        {% endfor %}
    </form>
</body>

<script>
    function mostrarPreg(x){
        id = 'pregunta'+x
        pregs = document.getElementsByClassName('pregunta');
        for (let i=0; i < pregs.length; i++){
            pregs[i].style.display = 'none';
        }
        document.getElementById(id).style.display = 'block';
    }
    mostrarPreg(1);
</script>
    
</html>
